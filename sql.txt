-- Publisher account record
SELECT * FROM iram_account WHERE id = 1301148;


-- Any pending contract record for this MP and program
SELECT *
FROM ircm_pendingcontract pc
JOIN ircm_campaign ic ON ic.id = pc.ircm_campaign_id
WHERE pc.iram_publisher_id = 1301148
  AND ic.id = 34655;


-- Signed contracts for this MP on this program
SELECT *
FROM ircm_signedcontract sc
WHERE sc.ircm_campaign_id = 34655
  AND sc.iram_publisher_id = 1301148;


SELECT *
FROM ircm_campaign_share_of_voice_settings
WHERE campaign_id = 34655;


-- DRAFT (PS/PD schema to confirm): look for MP-level blocks on a program
-- Data source: PS/PD (confirm exact DB/schema with PD/PS)
SELECT *
FROM ps_publisher_access_rules
WHERE iram_publisher_id = 1301148
  AND ircm_campaign_id = 34655;


-- DRAFT (PD/Discovery index): confirm the program is indexed and listable
SELECT *
FROM pd_marketplace_program_index
WHERE ircm_campaign_id = 34655
  AND is_visible = 1;

-- DRAFT: check eligibility join for this MP
SELECT *
FROM pd_marketplace_eligibility
WHERE ircm_campaign_id = 34655
  AND iram_publisher_id = 1301148
  AND eligible = 1;
